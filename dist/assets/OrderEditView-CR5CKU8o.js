import{_ as R,o as P,c as l,a as t,n as N,t as n,F as _,w as m,v,r as O,e as h,u as w,g as p,l as E,h as T,i}from"./index-DXEwJY08.js";const V={class:"content-wrapper"},x={class:"header-row"},H={class:"header-actions"},I=["disabled"],M={key:0,class:"detail-card"},U={class:"section-title"},B={class:"info-grid"},F={class:"info-item"},K={class:"info-item"},L={class:"info-grid"},z={class:"info-item"},W={class:"info-item"},j={class:"info-grid"},G={class:"info-item"},J={class:"info-item"},Q={class:"product-list-table"},X=["onUpdate:modelValue"],Y={class:"product-list-total"},Z={class:"total-price"},$={key:1,class:"edit-disabled-message"},tt={key:1,class:"loading"},et={__name:"OrderEditView",setup(at){const g=w(),y=T(),f=g.params.id,a=p(null),d=p(""),u=p(""),r=p([]),D=[{orderStatus:"대기",orderDate:"2023-10-25",orderCode:"HEAD20231025001",recipientName:"김민기",recipientPhone:"010-1111-2222",address:"서울시 강남구 테헤란로 123",arrivalDate:"2023-10-27",arrivalTime:"14:00",products:[{productCode:"OR0101",productName:"오리지널 떡볶이 밀키트 순한맛 1,2인분",quantity:50,amount:1e4},{productCode:"OR0103",productName:"오리지널 떡볶이 밀키트 순한맛 3,4인분",quantity:20,amount:18e3}],totalAmount:86e4},{orderStatus:"배송중",orderDate:"2023-10-24",orderCode:"HEAD20231024005",recipientName:"송지은",recipientPhone:"010-3333-4444",address:"경기도 성남시 분당구 판교로 789",arrivalDate:"2023-10-26",arrivalTime:"10:00",products:[{productCode:"RO0201",productName:"로제 떡볶이 밀키트 기본맛 1,2인분",quantity:30,amount:12e3},{productCode:"MA0301",productName:"마라 떡볶이 밀키트 매운맛 1,2인분",quantity:10,amount:12e3}],totalAmount:48e4},{orderStatus:"배송완료",orderDate:"2023-10-23",orderCode:"HEAD20231023020",recipientName:"박원규",recipientPhone:"010-5555-6666",address:"부산시 해운대구 마린시티 456",arrivalDate:"2023-10-25",arrivalTime:"16:30",products:[{productCode:"MA0303",productName:"마라 떡볶이 밀키트 아주 매운맛 3,4인분",quantity:200,amount:22e3},{productCode:"RO0103",productName:"로제 떡볶이 밀키트 순한맛 3,4인분",quantity:50,amount:22e3}],totalAmount:55e5},{orderStatus:"취소",orderDate:"2023-10-22",orderCode:"HEAD20231022030",recipientName:"김민수",recipientPhone:"010-7777-8888",address:"인천시 남동구 구월동 789",arrivalDate:"2023-10-24",arrivalTime:"11:00",products:[{productCode:"OR0403",productName:"오리지널 떡볶이 밀키트 아주 매운맛 3,4인분",quantity:30,amount:18e3},{productCode:"OR0101",productName:"오리지널 떡볶이 밀키트 순한맛 1,2인분",quantity:10,amount:1e4}],totalAmount:64e4}];P(()=>{const s=D.find(e=>e.orderCode===f);s&&(a.value=s,d.value=s.recipientName,u.value=s.recipientPhone,r.value=s.products.map(e=>({...e})))});const b=s=>({대기:"status-warning",접수:"status-info",배송중:"status-primary",배송완료:"status-ok",취소:"status-danger",반려:"status-danger"})[s]||"",c=s=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(s),C=E(()=>r.value?r.value.reduce((s,e)=>s+e.quantity*e.amount,0):0),k=()=>{if(a.value.orderStatus!=="대기"){alert("발주 상태가 대기가 아니므로 수정할 수 없습니다.");return}console.log("Saving changes:",{orderCode:f,recipientName:d.value,recipientPhone:u.value,products:r.value,totalAmount:C.value}),alert("수정 사항이 저장되었습니다."),y.back()},S=()=>{y.back()};return(s,e)=>(i(),l("div",V,[t("div",x,[e[2]||(e[2]=t("h2",null,"본사 발주 수정",-1)),t("div",H,[t("button",{onClick:S,class:"back-btn"},"취소"),t("button",{onClick:k,class:"action-btn",disabled:a.value&&a.value.orderStatus!=="대기"},"저장",8,I)])]),a.value?(i(),l("div",M,[t("div",U,[e[3]||(e[3]=t("h3",null,"기본 정보",-1)),t("span",{class:N(["status-tag",b(a.value.orderStatus)])},n(a.value.orderStatus),3)]),t("div",B,[t("div",F,[e[4]||(e[4]=t("label",null,"발주 코드",-1)),t("span",null,n(a.value.orderCode),1)]),t("div",K,[e[5]||(e[5]=t("label",null,"발주 일자",-1)),t("span",null,n(a.value.orderDate),1)])]),e[16]||(e[16]=t("div",{class:"divider"},null,-1)),a.value.orderStatus==="대기"?(i(),l(_,{key:0},[e[12]||(e[12]=t("div",{class:"section-title"},[t("h3",null,"담당자 정보 수정")],-1)),t("div",L,[t("div",z,[e[6]||(e[6]=t("label",{for:"recipientName"},"이름",-1)),m(t("input",{type:"text",id:"recipientName","onUpdate:modelValue":e[0]||(e[0]=o=>d.value=o)},null,512),[[v,d.value]])]),t("div",W,[e[7]||(e[7]=t("label",{for:"recipientPhone"},"연락처",-1)),m(t("input",{type:"text",id:"recipientPhone","onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o)},null,512),[[v,u.value]])])]),e[13]||(e[13]=t("div",{class:"divider"},null,-1)),e[14]||(e[14]=t("div",{class:"section-title"},[t("h3",null,"배송 및 상품 정보 수정")],-1)),t("div",j,[t("div",G,[e[8]||(e[8]=t("label",null,"도착 예정일",-1)),t("span",null,n(a.value.arrivalDate),1)]),t("div",J,[e[9]||(e[9]=t("label",null,"도착 예정 시간",-1)),t("span",null,n(a.value.arrivalTime),1)])]),t("div",Q,[e[11]||(e[11]=t("div",{class:"product-list-header"},[t("span",null,"상품 코드"),t("span",null,"상품명"),t("span",null,"수량"),t("span",null,"개당 금액"),t("span",null,"총 금액")],-1)),(i(!0),l(_,null,O(r.value,(o,q)=>(i(),l("div",{key:q,class:"product-list-item"},[t("span",null,n(o.productCode),1),t("span",null,n(o.productName),1),m(t("input",{type:"number","onUpdate:modelValue":A=>o.quantity=A,min:"1",class:"quantity-input"},null,8,X),[[v,o.quantity,void 0,{number:!0}]]),t("span",null,n(c(o.amount)),1),t("span",null,n(c(o.quantity*o.amount)),1)]))),128)),t("div",Y,[e[10]||(e[10]=t("label",null,"총 발주 금액",-1)),t("span",Z,n(c(C.value)),1)])])],64)):(i(),l("p",$,[e[15]||(e[15]=h("발주 상태가 '대기'일 때만 수정 가능합니다. 현재 상태: ",-1)),t("span",{class:N(b(a.value.orderStatus))},n(a.value.orderStatus),3)]))])):(i(),l("div",tt," Loading... "))]))}},ot=R(et,[["__scopeId","data-v-7cd1ca00"]]);export{ot as default};
