import{_ as w,o as B,c as n,a as t,F as C,b as A,n as P,t as l,w as v,v as f,d as V,e as _,f as M,r as y,u as I,g as m,h as T,i as d,j as U}from"./index-DXEwJY08.js";const D={class:"content-wrapper"},K={class:"header-row"},$={class:"header-actions"},j={key:0,class:"detail-card"},z={class:"section-title"},L={class:"info-grid"},W={class:"info-item"},G={class:"info-item"},H={class:"info-item"},J={class:"info-item"},Q={key:0,class:"info-grid"},X={class:"info-item"},Y={class:"info-item"},Z={class:"info-item"},tt={class:"info-item full-width"},st={class:"details-box"},et={key:1,class:"info-grid"},ot={class:"info-item"},lt={class:"info-item"},at={class:"info-item"},nt={class:"info-item full-width"},dt={key:2,class:"product-selection-note"},it={class:"product-list-table"},ut={class:"product-list-header"},rt={key:0,class:"check-col"},ct={class:"box-col"},pt={class:"id-code id-col"},vt={class:"sku-col"},mt={class:"name-cell"},bt={class:"qty-col"},Ct={class:"price-col"},At={class:"item-total total-col"},ft={class:"check-col"},_t=["value"],yt={class:"box-col"},kt={class:"id-code id-col"},Et={class:"sku-col"},xt={class:"name-cell"},Rt={class:"qty-col"},St={class:"price-col"},Nt={class:"item-total total-col"},Ft={class:"summary-section"},gt={class:"summary-row total"},Ot={class:"total-price"},qt={key:1,class:"not-found"},ht={__name:"ReturnDetailView",setup(wt){const k=I(),E=T(),x=k.params.id,o=m(null),u=m(!1),i=m(null),c=m([]),R=[{orderCode:"SE0120231026001",returnCode:"RESE0120231026001",boxCode:"SE01FA0120231026OR0101001",idCode:"SE01FA01AOR0101B001",productCode:"OR0101",productName:"오리지널 떡볶이 밀키트 순한맛 1,2인분",quantity:1,amount:5e3,totalAmount:5e3,recipientName:"김철수",recipientPhone:"010-1234-5678",franchiseCode:"SE01",details:"박스 파손 심함",reason:"상품 하자",date:"2023-10-26",status:"대기"},{orderCode:"SE0120231025005",returnCode:"RESE0120231025005",boxCode:"SE01FA0120231025RO0201005",idCode:"SE01FA01ARO0201B005",productCode:"RO0201",productName:"로제 떡볶이 밀키트 기본맛 1,2인분",quantity:2,amount:7e3,totalAmount:14e3,recipientName:"이영희",recipientPhone:"010-9876-5432",franchiseCode:"SE01",details:"고객 변심 반품",reason:"오발주",date:"2023-10-25",status:"접수"},{orderCode:"SE0120231024010",returnCode:"RESE0120231024010",boxCode:"SE01FA0120231024MA0301010",idCode:"SE01FA01AMA0301B010",productCode:"MA0301",productName:"마라 떡볶이 밀키트 매운맛 1,2인분",quantity:1,amount:7e3,totalAmount:7e3,recipientName:"박민수",recipientPhone:"010-5555-4444",franchiseCode:"SE01",details:"오배송 확인됨",reason:"오발주",date:"2023-10-24",status:"배송중"}],S=[{boxCode:"SE01FA0120231026OR0101001",idCode:"SE01FA01AOR0101B001",productCode:"OR0101",productName:"오리지널 떡볶이 밀키트 순한맛 1,2인분",quantity:1,amount:5e3,totalAmount:5e3},{boxCode:"SE01FA0120231026OR0101001",idCode:"SE01FA01AOR0101B002",productCode:"OR0101",productName:"오리지널 떡볶이 밀키트 순한맛 1,2인분",quantity:1,amount:5e3,totalAmount:5e3},{boxCode:"SE01FA0120231026OR0101001",idCode:"SE01FA01AOR0101B003",productCode:"OR0101",productName:"오리지널 떡볶이 밀키트 순한맛 1,2인분",quantity:1,amount:5e3,totalAmount:5e3},{boxCode:"SE01FA0120231025RO0201005",idCode:"SE01FA01ARO0201B005",productCode:"RO0201",productName:"로제 떡볶이 밀키트 기본맛 1,2인분",quantity:2,amount:7e3,totalAmount:14e3},{boxCode:"SE01FA0120231024MA0301010",idCode:"SE01FA01AMA0301B010",productCode:"MA0301",productName:"마라 떡볶이 밀키트 매운맛 1,2인분",quantity:1,amount:7e3,totalAmount:7e3}],b=m([]);B(()=>{const a=R.filter(s=>s.returnCode===x);if(a.length>0){const s=a[0];o.value={...s,products:a.map(e=>({boxCode:e.boxCode,idCode:e.idCode,productCode:e.productCode,productName:e.productName,quantity:e.quantity,amount:e.amount,totalAmount:e.totalAmount}))},o.value.grandTotal=a.reduce((e,r)=>e+r.totalAmount,0),b.value=S.filter(e=>e.boxCode===o.value.boxCode)}});const N=a=>({대기:"status-warning",접수:"status-info","배송 대기":"status-info",배송중:"status-primary","배송 완료":"status-ok",검수:"status-primary","대금 차감 완료":"status-ok","대금 차감 거절":"status-danger"})[a]||"",F=()=>{if(o.value.status!=="대기"){alert("처리 상태가 대기가 아니면 취소할 수 없습니다.");return}alert("반품 요청이 취소되었습니다."),E.back()},p=a=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(a),g=()=>{i.value={...o.value},c.value=o.value.products.map(a=>a.idCode),u.value=!0},O=()=>{u.value=!1,i.value=null},q=()=>{const a=b.value.filter(s=>c.value.includes(s.idCode));o.value={...i.value,products:a,grandTotal:a.reduce((s,e)=>s+e.totalAmount,0)},alert("변경사항이 저장되었습니다."),u.value=!1};return(a,s)=>(d(),n("div",D,[t("div",K,[s[6]||(s[6]=t("h2",null,"반품 상세 정보",-1)),t("div",$,[u.value?(d(),n(C,{key:1},[t("button",{onClick:q,class:"save-btn"},"저장"),t("button",{onClick:O,class:"cancel-btn"},"취소")],64)):(d(),n(C,{key:0},[o.value&&o.value.status==="대기"?(d(),n("button",{key:0,onClick:F,class:"delete-btn"},"반품 취소")):A("",!0),o.value&&o.value.status==="대기"?(d(),n("button",{key:1,onClick:g,class:"edit-btn"},"수정")):A("",!0),t("button",{onClick:s[0]||(s[0]=e=>a.$router.back()),class:"back-btn"},"목록으로 돌아가기")],64))])]),o.value?(d(),n("div",j,[t("div",z,[s[7]||(s[7]=t("h3",null,"기본 정보",-1)),t("span",{class:P(["status-tag",N(o.value.status)])},l(o.value.status),3)]),t("div",L,[t("div",W,[s[8]||(s[8]=t("label",null,"반품 코드",-1)),t("span",null,l(o.value.returnCode),1)]),t("div",G,[s[9]||(s[9]=t("label",null,"발주 코드",-1)),t("span",null,l(o.value.orderCode),1)]),t("div",H,[s[10]||(s[10]=t("label",null,"가맹점 코드",-1)),t("span",null,l(o.value.franchiseCode),1)]),t("div",J,[s[11]||(s[11]=t("label",null,"요청 일자",-1)),t("span",null,l(o.value.date),1)])]),s[25]||(s[25]=t("div",{class:"divider"},null,-1)),s[26]||(s[26]=t("div",{class:"section-title"},[t("h3",null,"수령인 정보 및 사유")],-1)),u.value?(d(),n("div",et,[t("div",ot,[s[16]||(s[16]=t("label",null,"수령인 이름",-1)),v(t("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>i.value.recipientName=e),class:"edit-input"},null,512),[[f,i.value.recipientName]])]),t("div",lt,[s[17]||(s[17]=t("label",null,"수령인 전화번호",-1)),v(t("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=e=>i.value.recipientPhone=e),class:"edit-input"},null,512),[[f,i.value.recipientPhone]])]),t("div",at,[s[19]||(s[19]=t("label",null,"반품 사유",-1)),v(t("select",{"onUpdate:modelValue":s[3]||(s[3]=e=>i.value.reason=e),class:"edit-input"},[...s[18]||(s[18]=[t("option",{value:"파손"},"파손",-1),t("option",{value:"오배송"},"오배송",-1),t("option",{value:"단순변심"},"단순변심",-1),t("option",{value:"기타"},"기타",-1)])],512),[[V,i.value.reason]])]),t("div",nt,[s[20]||(s[20]=t("label",null,"세부 사항",-1)),v(t("textarea",{"onUpdate:modelValue":s[4]||(s[4]=e=>i.value.details=e),class:"edit-input textarea-input"},null,512),[[f,i.value.details]])])])):(d(),n("div",Q,[t("div",X,[s[12]||(s[12]=t("label",null,"수령인 이름",-1)),t("span",null,l(o.value.recipientName),1)]),t("div",Y,[s[13]||(s[13]=t("label",null,"수령인 전화번호",-1)),t("span",null,l(o.value.recipientPhone),1)]),t("div",Z,[s[14]||(s[14]=t("label",null,"반품 사유",-1)),t("span",null,l(o.value.reason),1)]),t("div",tt,[s[15]||(s[15]=t("label",null,"세부 사항",-1)),t("div",st,l(o.value.details),1)])])),s[27]||(s[27]=t("div",{class:"divider"},null,-1)),s[28]||(s[28]=t("div",{class:"section-title"},[t("h3",null,"제품 목록")],-1)),u.value?(d(),n("div",dt,[s[21]||(s[21]=_(" * 해당 박스(",-1)),t("strong",null,l(o.value.boxCode),1),s[22]||(s[22]=_(")의 모든 제품입니다. 반품할 제품을 선택해주세요. ",-1))])):A("",!0),t("div",it,[t("div",ut,[u.value?(d(),n("span",rt,"선택")):A("",!0),s[23]||(s[23]=M('<span class="box-col" data-v-2bb06695>박스 코드</span><span class="id-col" data-v-2bb06695>제품 식별코드</span><span class="sku-col" data-v-2bb06695>제품 코드</span><span class="name-header" data-v-2bb06695>제품명</span><span class="qty-col" data-v-2bb06695>수량</span><span class="price-col" data-v-2bb06695>금액</span><span class="total-col" data-v-2bb06695>총 금액</span>',7))]),u.value?(d(!0),n(C,{key:1},y(b.value,(e,r)=>(d(),n("div",{key:r,class:"product-list-item"},[t("span",ft,[v(t("input",{type:"checkbox",value:e.idCode,"onUpdate:modelValue":s[5]||(s[5]=h=>c.value=h)},null,8,_t),[[U,c.value]])]),t("span",yt,l(e.boxCode),1),t("span",kt,l(e.idCode),1),t("span",Et,l(e.productCode),1),t("span",xt,l(e.productName),1),t("span",Rt,l(e.quantity)+"개",1),t("span",St,l(p(e.amount)),1),t("span",Nt,l(p(e.totalAmount)),1)]))),128)):(d(!0),n(C,{key:0},y(o.value.products,(e,r)=>(d(),n("div",{key:r,class:"product-list-item"},[t("span",ct,l(e.boxCode),1),t("span",pt,l(e.idCode),1),t("span",vt,l(e.productCode),1),t("span",mt,l(e.productName),1),t("span",bt,l(e.quantity)+"개",1),t("span",Ct,l(p(e.amount)),1),t("span",At,l(p(e.totalAmount)),1)]))),128))]),t("div",Ft,[t("div",gt,[s[24]||(s[24]=t("label",null,"총 반품 금액",-1)),t("span",Ot,l(p(u.value?b.value.filter(e=>c.value.includes(e.idCode)).reduce((e,r)=>e+r.totalAmount,0):o.value.grandTotal)),1)])])])):(d(),n("div",qt,[...s[29]||(s[29]=[t("p",null,"해당 반품 정보를 찾을 수 없습니다.",-1)])]))]))}},Pt=w(ht,[["__scopeId","data-v-2bb06695"]]);export{Pt as default};
