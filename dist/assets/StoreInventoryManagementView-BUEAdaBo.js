import{_ as F,c as n,a as t,w as r,d as b,f as g,F as y,r as C,e as N,v as w,k as M,b as O,g as p,l as V,h as W,i as u,t as l,n as B}from"./index-DXEwJY08.js";const L={class:"content-wrapper"},T={class:"filter-section"},K={class:"filter-group"},$={class:"filter-group"},z={class:"filter-group"},_={key:0,class:"alert-section"},j={class:"danger-text"},H={key:1,class:"alert-section safe"},J={class:"data-table-card"},Q={class:"data-table"},X=["onClick"],Y={class:"sku-cell"},Z={class:"name-cell"},h={key:2,class:"popup-overlay"},tt={class:"popup-content"},ot={key:3,class:"popup-overlay"},et={class:"popup-content"},st=["onUpdate:modelValue"],at={__name:"StoreInventoryManagementView",setup(lt){const q=W(),a=p({productCode:"",productName:"",status:""}),i=p(!1),v=p(!1),c=p(""),k=p([{productCode:"RO011",productName:"로제 순한맛",quantity:50,portion:1,safeStock:10},{productCode:"RO012",productName:"로제 순한맛",quantity:2,portion:2,safeStock:10},{productCode:"RO021",productName:"로제 기본맛",quantity:30,portion:1,safeStock:10},{productCode:"RO022",productName:"로제 기본맛",quantity:8,portion:2,safeStock:10},{productCode:"OR011",productName:"오리지널 순한맛",quantity:100,portion:1,safeStock:20},{productCode:"OR012",productName:"오리지널 순한맛",quantity:15,portion:2,safeStock:5},{productCode:"OR021",productName:"오리지널 기본맛",quantity:0,portion:1,safeStock:10},{productCode:"OR022",productName:"오리지널 기본맛",quantity:8,portion:2,safeStock:10}]),S=(s,o)=>s<=0?"품절":s<o*.3?"위험":s<o?"부족":"안전",P=(s,o)=>s<=0?"sold":s<o*.3?"danger":s<o?"warning":"safe",A=V(()=>k.value.filter(s=>{const o=!a.value.productCode||s.productCode.startsWith(a.value.productCode),e=!a.value.productName||s.productName===a.value.productName;let d=!0;if(a.value.status){const f=S(s.quantity,s.safeStock);a.value.status==="SAFE"&&(d=f==="안전"),a.value.status==="WARNING"&&(d=f==="부족"),a.value.status==="DANGER"&&(d=f==="위험"||f==="품절")}return o&&e&&d})),m=V(()=>k.value.filter(s=>s.quantity<s.safeStock)),I=()=>{alert("발주 생성 페이지로 이동합니다 (구현 예정)")},E=s=>{q.push(`/store/inventory/${s}`)},x=s=>{s.stopPropagation(),i.value=!0,c.value=""},D=()=>{i.value=!1},R=()=>{c.value==="1234"?(i.value=!1,v.value=!0):alert("비밀번호가 틀렸습니다.")},G=()=>{v.value=!1},U=()=>{alert("안전재고 설정이 저장되었습니다."),v.value=!1};return(s,o)=>(u(),n("div",L,[o[23]||(o[23]=t("div",{class:"header-row"},[t("h2",null,"재고 관리")],-1)),t("div",T,[t("div",K,[o[5]||(o[5]=t("label",null,"제품 코드",-1)),r(t("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>a.value.productCode=e)},[...o[4]||(o[4]=[g('<option value="" data-v-3b15d19d>전체</option><option value="RO01" data-v-3b15d19d>RO01 (로제 순한맛)</option><option value="RO02" data-v-3b15d19d>RO02 (로제 기본맛)</option><option value="OR01" data-v-3b15d19d>OR01 (오리지널 순한맛)</option><option value="OR02" data-v-3b15d19d>OR02 (오리지널 기본맛)</option>',5)])],512),[[b,a.value.productCode]])]),t("div",$,[o[7]||(o[7]=t("label",null,"제품 이름",-1)),r(t("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>a.value.productName=e)},[...o[6]||(o[6]=[g('<option value="" data-v-3b15d19d>전체</option><option value="로제 순한맛" data-v-3b15d19d>로제 순한맛</option><option value="로제 기본맛" data-v-3b15d19d>로제 기본맛</option><option value="오리지널 순한맛" data-v-3b15d19d>오리지널 순한맛</option><option value="오리지널 기본맛" data-v-3b15d19d>오리지널 기본맛</option>',5)])],512),[[b,a.value.productName]])]),t("div",z,[o[9]||(o[9]=t("label",null,"상태",-1)),r(t("select",{"onUpdate:modelValue":o[2]||(o[2]=e=>a.value.status=e)},[...o[8]||(o[8]=[t("option",{value:""},"전체",-1),t("option",{value:"SAFE"},"안전 (SAFE)",-1),t("option",{value:"WARNING"},"부족 (WARNING)",-1),t("option",{value:"DANGER"},"위험 (DANGER)",-1)])],512),[[b,a.value.status]])]),o[10]||(o[10]=t("button",{class:"search-btn"},"조회",-1))]),m.value.length>0?(u(),n("div",_,[o[12]||(o[12]=t("div",{class:"alert-title"},"⚠ 안전재고 부족 알림",-1)),t("ul",null,[(u(!0),n(y,null,C(m.value,e=>(u(),n("li",{key:e.productCode},[t("strong",null,l(e.productName)+" ("+l(e.productCode)+")",1),o[11]||(o[11]=N("의 재고가 ",-1)),t("span",j,l(e.quantity),1),N("개 남았습니다. (안전재고: "+l(e.safeStock)+") ",1)]))),128))])])):(u(),n("div",H,[...o[13]||(o[13]=[t("div",{class:"alert-title"},"✅ 모든 재고가 안전합니다.",-1)])])),t("div",J,[t("table",Q,[t("thead",null,[t("tr",null,[o[15]||(o[15]=t("th",null,"제품 코드",-1)),o[16]||(o[16]=t("th",null,"제품 이름",-1)),o[17]||(o[17]=t("th",null,"수량",-1)),o[18]||(o[18]=t("th",null,"인분",-1)),t("th",null,[o[14]||(o[14]=N(" 안전재고 ",-1)),t("button",{class:"icon-btn",onClick:x,title:"안전재고 설정"},"⚙️")]),o[19]||(o[19]=t("th",null,"상태",-1))])]),t("tbody",null,[(u(!0),n(y,null,C(A.value,e=>(u(),n("tr",{key:e.productCode,onClick:d=>E(e.productCode),class:"clickable-row"},[t("td",Y,l(e.productCode),1),t("td",Z,l(e.productName),1),t("td",null,l(e.quantity),1),t("td",null,l(e.portion)+"인분",1),t("td",null,l(e.safeStock),1),t("td",null,[t("span",{class:B(["status-badge",P(e.quantity,e.safeStock)])},l(S(e.quantity,e.safeStock)),3)])],8,X))),128))])])]),t("div",{class:"bottom-actions"},[t("button",{class:"action-btn primary",onClick:I},"발주 생성")]),i.value?(u(),n("div",h,[t("div",tt,[o[20]||(o[20]=t("h3",null,"관리자 확인",-1)),o[21]||(o[21]=t("p",null,"안전재고 설정을 위해 비밀번호를 입력하세요.",-1)),r(t("input",{type:"password","onUpdate:modelValue":o[3]||(o[3]=e=>c.value=e),placeholder:"비밀번호 입력",onKeyup:M(R,["enter"])},null,544),[[w,c.value]]),t("div",{class:"popup-actions"},[t("button",{onClick:D},"취소"),t("button",{class:"primary",onClick:R},"확인")])])])):O("",!0),v.value?(u(),n("div",ot,[t("div",et,[o[22]||(o[22]=t("h3",null,"안전재고 설정",-1)),(u(!0),n(y,null,C(k.value,e=>(u(),n("div",{key:e.productCode,class:"setting-row"},[t("label",null,l(e.productName)+" ("+l(e.productCode)+")",1),r(t("input",{type:"number","onUpdate:modelValue":d=>e.safeStock=d,min:"0"},null,8,st),[[w,e.safeStock]])]))),128)),t("div",{class:"popup-actions"},[t("button",{onClick:G},"닫기"),t("button",{class:"primary",onClick:U},"저장")])])])):O("",!0)]))}},ut=F(at,[["__scopeId","data-v-3b15d19d"]]);export{ut as default};
